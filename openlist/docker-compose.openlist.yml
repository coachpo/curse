services:
  # OpenList - self-hosted Dropbox-style file hosting
  openlist:
    image: openlistteam/openlist:latest
    container_name: openlist
    user: "0:0" # Replace with your UID:GID to match host permissions
    volumes:
      - "./data:/opt/openlist/data"
      - "/home/ubuntu/sdcard/openlist-cache:/opt/openlist/data/openlist-cache"
    environment:
      - UMASK=022
    restart: unless-stopped

  caddy:
    image: caddy:2
    container_name: openlist-caddy
    depends_on:
      - openlist
    ports:
      - "8010:80"
    volumes:
      - "/home/ubuntu/sdcard/openlist-cache/:/srv/openlist-cache:ro"
      - "./Caddyfile:/etc/caddy/Caddyfile:ro"
    restart: unless-stopped
